@import './../../scss_variables.scss';

.QueryEditor {
    position: relative;
    height: 100%;

    &.fullScreen {
        @include full-screen(39);
    }

    .query-editor-float-buttons-wrapper {
        position: absolute;
        top: 0;
        z-index: 9;
        right: 0;

        .full-screen-button {
            padding: 3px 0px;
        }

        .lint-num-errors {
            color: var(--color-false);
        }

        .lint-num-warnings {
            color: var(--color-warn);
        }

        .lint-passed {
            color: var(--color-true);
        }
    }
}

.helix-layer {
    position: relative;
    /* Let consumers control rounding; overlay inherits it */
    border-radius: inherit;

    /* Customizable via CSS variables from React */
    --helix-opacity: 0.5;
    --helix-z: 10;

    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: var(--helix-z);
    opacity: var(--helix-opacity);
    border-radius: inherit;

    background: linear-gradient(
        45deg,
        #ff6b6b,
        #4ecdc4,
        #45b7d1,
        #96ceb4,
        #feca57,
        #ff9ff3,
        #54a0ff,
        #5f27cd
    );
    background-size: 400% 400%;
    animation: helix-ultra-rotation 3s ease infinite;

    /* Mask to create the “frame” effect on all sides */
    mask: linear-gradient(
            to right,
            rgba(0, 0, 0, 1) 0%,
            rgba(0, 0, 0, 1) 5px,
            rgba(0, 0, 0, 0.8) 10px,
            rgba(0, 0, 0, 0.2) 15px,
            transparent 20px,
            transparent calc(100% - 20px),
            rgba(0, 0, 0, 0.2) calc(100% - 15px),
            rgba(0, 0, 0, 0.8) calc(100% - 10px),
            rgba(0, 0, 0, 1) calc(100% - 5px),
            rgba(0, 0, 0, 1) 100%
        ),
        linear-gradient(
            to bottom,
            rgba(0, 0, 0, 1) 0%,
            rgba(0, 0, 0, 1) 5px,
            rgba(0, 0, 0, 0.8) 10px,
            rgba(0, 0, 0, 0.2) 15px,
            transparent 20px,
            transparent calc(100% - 20px),
            rgba(0, 0, 0, 0.2) calc(100% - 15px),
            rgba(0, 0, 0, 0.8) calc(100% - 20px),
            rgba(0, 0, 0, 1) calc(100% - 5px),
            rgba(0, 0, 0, 1) 100%
        );

    -webkit-mask: linear-gradient(
            to right,
            rgba(0, 0, 0, 1) 0%,
            rgba(0, 0, 0, 1) 5px,
            rgba(0, 0, 0, 0.8) 10px,
            rgba(0, 0, 0, 0.2) 15px,
            transparent 20px,
            transparent calc(100% - 20px),
            rgba(0, 0, 0, 0.2) calc(100% - 15px),
            rgba(0, 0, 0, 0.8) calc(100% - 10px),
            rgba(0, 0, 0, 1) calc(100% - 5px),
            rgba(0, 0, 0, 1) 100%
        ),
        linear-gradient(
            to bottom,
            rgba(0, 0, 0, 1) 0%,
            rgba(0, 0, 0, 1) 5px,
            rgba(0, 0, 0, 0.8) 10px,
            rgba(0, 0, 0, 0.2) 15px,
            transparent 20px,
            transparent calc(100% - 20px),
            rgba(0, 0, 0, 0.2) calc(100% - 15px),
            rgba(0, 0, 0, 0.8) calc(100% - 20px),
            rgba(0, 0, 0, 1) calc(100% - 5px),
            rgba(0, 0, 0, 1) 100%
        );
}

@keyframes helix-ultra-rotation {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}
